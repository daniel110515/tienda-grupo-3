USE master;
GO

CREATE DATABASE ventas
on primary (
name='ventasdata',
 filename='C:\base brayam\brayam.mdf',
 size=10mb,
  maxsize=500mb,
 filegrowth=25%)
GO
USE ventas
CREATE TABLE EMPLEADO (
COD_EMP VARchar(6) NOT NULL,
NOMBRES_EMP char(6) NULL,
APE_PATER_EMP char(6) NULL,
APE_MATER_MEP datetime NOT NULL,
FECHA_NAC_EMP varchar(100) NULL,
DIRECCION_EMP char(6) NULL,
TELEFONO_EMP char(6) NULL,
CODDIST_EMP char(6) NULL,
CORREO_E_EMP char(6) NULL,
FECHA_INGRESO_EMP char(6) NULL,
COD_SUPERVISOR char(6) NULL,
DESCRIP_DIST VARchar(25) NOT NULL 
)
CREATE TABLE DETALLEBOLETA (
COD_BOL char(6)  NOT NULL,
COD_PRO char(6) NOT NULL,
CANTIDAD decimal NOT NULL,
PRECIOVENTA decimal NULL,
)
CREATE TABLE BOLETA (
COD_BOL char(6) NOT NULL,
COD_EMP char(6) NOT NULL,
FECHA_BOL char(6) NOT NULL,
COD_CLI CHAR(6) NOT NULL,
ESTADO_BOL datetime NOT NULL,
)
CREATE TABLE PRODUCTO (
COD_PRO char(6) NOT NULL,
DESCRIP_PRO varchar(60) NOT NULL,
PRECIO_PRO varchar(60) NOT NULL,
STOCK_ACT_PRO varchar(4) NOT NULL,
STOCK_MIN_PRO decimal NOT NULL,
COD_TIPO_PRO varchar(6) NOT NULL,
)
CREATE TABLE TIPO_PRODUCTO (
COD_TIPO_PRO decimal(18,0) NOT NULL,
DESCRIP_TIPO_PRO varchar(20) NOT NULL,
)
CREATE TABLE CLIENTE_PER_NATURAL (
COD_CLI char(6) NOT NULL,
NOMBRES_CLI char(6) NOT NULL,
APE_PATER_CLI varchar(25) NOT NULL,
APE_MATER_CLI varchar(25) NOT NULL,
)
CREATE TABLE CLIENTE_PER_JURIDICA (
COD_CLI char(6) NOT NULL,
RAZONSOCIAL_CLI varchar(30) NOT NULL,
RUC_CLI char(30) NOT NULL,
CONTRATO_CLI int NOT NULL,
COD_CARGO_CLI char(1) NULL,
)
CREATE TABLE CLIENTE (
COD_CLI char(6) NOT NULL,
DIRECCION_CLI varchar(30) NOT NULL,
TELEFONO_CLI char(10) NOT NULL,
CODDIST_CLI char(10) NOT NULL,
CORREO_E char(10) NOT NULL  ,        
WEB char(10) NOT NULL,
DESCRIP_DIST varchar(25) NOT NULL,
)
CREATE TABLE DISTRITO (
COD_DIST VARchar(25) NOT NULL,
DESCRIP_DIST varchar(25) NOT NULL,
)



ALTER TABLE EMPLEADO
ADD PRIMARY KEY NONCLUSTERED (COD_EMP)
ALTER TABLE DETALLEBOLETA
ADD PRIMARY KEY NONCLUSTERED (COD_BOL, COD_PRO)
ALTER TABLE BOLETA
ADD PRIMARY KEY NONCLUSTERED (COD_BOL)
ALTER TABLE PRODUCTO
ADD PRIMARY KEY NONCLUSTERED (COD_PRO)
ALTER TABLE TIPO_PRODUCTO
ADD PRIMARY KEY NONCLUSTERED (COD_TIPO_PRO)
ALTER TABLE CLIENTE_PER_NATURAL
ADD PRIMARY KEY NONCLUSTERED (COD_CLI)
ALTER TABLE CLIENTE_PER_JURIDICA
ADD PRIMARY KEY NONCLUSTERED (COD_CLI)
ALTER TABLE CLIENTE
ADD PRIMARY KEY NONCLUSTERED (COD_CLI)
ALTER TABLE DISTRITO
ADD PRIMARY KEY NONCLUSTERED (COD_DIST)





ALTER TABLE EMPLEADO
ADD FOREIGN KEY (CODDIST_EMP) REFERENCES BOLETA,
FOREIGN KEY (COD_SUPERVISOR) REFERENCES EMPLEADO

ALTER TABLE BOLETA
ADD FOREIGN KEY (COD_EMP) REFERENCES EMPLEADO 

ALTER TABLE DETALLEBOLETA
ADD FOREIGN KEY (COD_BOL) REFERENCES BOLETA

ALTER TABLE DETALLEBOLETA
ADD FOREIGN KEY (COD_PRO) REFERENCES PRODUCTO

ALTER TABLE BOLETA
ADD FOREIGN KEY (COD_CLI) REFERENCES CLIENTE

ALTER TABLE PRODUCTO 
ADD FOREIGN KEY (COD_TIPO_PRO) REFERENCES TIPO_PRODUCTO

ALTER TABLE CLIENTE_PER_NATURAL
ADD FOREIGN KEY (COD_CLI) REFERENCES CLIENTE

ALTER TABLE EMPLEADO
ADD FOREIGN KEY (DESCRIP_DIST) REFERENCES DISTRITO

ALTER TABLE CLIENTE
ADD FOREIGN KEY (DESCRIP_DIST) REFERENCES DISTRITO 

ALTER TABLE CLIENTE
ADD DEFAULT
'NO REGISTRA'
FOR
CORREO_E


ALTER TABLE  PRODUCTO
'FROM PRODUCTO=   
 WHERE  PRECIO_PRO >=0 <=1000 '
